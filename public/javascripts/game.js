!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){var r=n(3);t.exports=function(){this.animator=new r,this.posX,this.posY,this.width,this.height,this.draw=function(t){this.animator.draw(t,this.posX,this.posY,this.width,this.height)}}},function(t,e,n){var r=n(2),i=n(7),o=n(0);!function(){function t(){s.clearRect(0,0,n,a),u.movable.forEach(function(t){t.update();for(var e=0;e<u.immovable.length;e++)t.isCollising(u.immovable[e])&&t.handleCollision(u.immovable[e])}),u.background.forEach(function(t){t.draw(s)}),u.movable.forEach(function(t){t.draw(s)}),u.immovable.forEach(function(t){t.draw(s)}),u.foreground.forEach(function(t){t.draw(s)}),window.requestAnimationFrame(t)}var e=document.getElementById("game"),n=e.width,a=e.height,s=e.getContext("2d"),u={background:new Array,movable:new Array,immovable:new Array,foreground:new Array};!function(){var t=new o,e=new Image;e.src="/images/BG.png",t.animator.addState("idle",1e3,!1),t.animator.addImage("idle",e),t.posX=0,t.posY=0,t.width=1e3,t.height=750,u.background.push(t);var n=new r;n.width=80,n.height=110,n.posX=0,n.posY=0,n.init(),u.movable.push(n);for(var a=0;a<10;a++){var s=new i;s.width=100,s.height=100,s.posX=0+100*a,s.posY=400,s.init(),u.immovable.push(s)}}(),window.requestAnimationFrame(t)}()},function(t,e,n){var r=n(0),i=n(4);n(5);t.exports=function(){r.call(this);var t=new i,e=10,n=!0,o=!1,a=0;this.init=function(){t.addKey("w",87),t.addKey("a",65),t.addKey("s",83),t.addKey("d",68);var e=new Array,n=new Array,r=new Array,i=new Image;i.src="/images/adventurer_idle.png",e.push(i);var o=new Image;o.src="/images/adventurer_jump.png",r.push(o);var a=new Image;a.src="/images/adventurer_walk1.png",n.push(a);var s=new Image;s.src="/images/adventurer_walk2.png",n.push(s),this.animator.addState("idle",50,!0),this.animator.addImages("idle",e),this.animator.addState("walk",200,!0),this.animator.addImages("walk",n),this.animator.addState("jump",50,!1),this.animator.addImages("jump",r)},this.isCollising=function(t){return this.posX<t.posX+t.width&&this.posX+this.width>t.posX&&this.posY<t.posY+t.height&&this.posY+this.height>t.posY},this.handleCollision=function(t){this.posY+this.height>t.posY&&(o=!1,e=5,this.posY=t.posY-this.height,console.log("below"))},this.update=function(){n?"down"==t.getKeyState("d")?(this.posX+=5,o||this.animator.changeState("walk")):"down"==t.getKeyState("a")?(n=!1,this.animator.flip()):o||this.animator.changeState("idle"):"down"==t.getKeyState("a")?(this.posX-=5,o||this.animator.changeState("walk")):"down"==t.getKeyState("d")?(n=!0,this.animator.flip()):o||this.animator.changeState("idle"),"down"!=t.getKeyState("w")||o||(a=150,o=!0,this.animator.changeState("jump")),0!=a?(a-=e,this.posY-=e,e+=.5,a<=0&&(a=0,e=5)):(this.posY+=e,e+=.5)}}},function(t,e){t.exports=function(){function t(t,e,n,r,i,o){t.translate(n+i,r),t.scale(-1,1),t.drawImage(e,0,0,i,o),t.setTransform(1,0,0,1,0,0)}function e(){r[n].loop?i=++i%r[n].images.length:(i++,i=Math.min(i,r[n].images.length-1))}var n=null,r=new Array,i=0,o=(new Date).getTime(),a=!1;this.draw=function(s,u,c,h,l){if(null!=n){var f=(new Date).getTime();-1!=r[n].speed&&f-o>=r[n].speed&&(o=f,e());var d=r[n].images[i];a?t(s,d,u,c,h,l):s.drawImage(d,u,c,h,l)}},this.flip=function(){a=!a},this.changeState=function(t){if(r[n].name!=t){for(var e=0;e<r.length;e++)if(t==r[e].name)return n=e,i=0,o=(new Date).getTime(),!0;return!1}},this.addState=function(t,e,i){var o={name:t,speed:e,images:new Array,loop:i};r.push(o),null==n&&(n=0)},this.addImage=function(t,e){r.forEach(function(n){if(n.name==t)return void n.images.push(e)})},this.addImages=function(t,e){r.forEach(function(n){if(n.name==t)return void(n.images=e)})}}},function(t,e){t.exports=function(){function t(t){for(var e=t.which||t.keyCode,n=0;n<r.length;n++)r[n].code==e&&(r[n].state="down")}function e(t){for(var e=t.which||t.keyCode,n=0;n<r.length;n++)r[n].code==e&&(r[n].state=null)}function n(t){}var r=new Array;this.addKey=function(t,e){var n={name:t,code:e,state:null};r.push(n)},this.getKeyState=function(t){for(var e=0;e<r.length;e++)if(r[e].name==t)return r[e].state;return null},window.addEventListener("keydown",t),window.addEventListener("keyup",e),window.addEventListener("keypress",n)}},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===a(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var c=[],u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n(6))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){p&&d&&(p=!1,d.length?m=d.concat(m):g=-1,m.length&&s())}function s(){if(!p){var t=i(a);p=!0;for(var e=m.length;e;){for(d=m,m=[];++g<e;)d&&d[g].run();g=-1,e=m.length}d=null,p=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var h,l,f=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var d,m=[],p=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new u(t,e)),1!==m.length||p||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){var r=n(0);t.exports=function(){r.call(this),this.init=function(){var t=new Image;t.src="/images/2.png",this.animator.addState("idle",1e3,!1),this.animator.addImage("idle",t)}}}]);