!function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,e){var r=e(3);t.exports=function(){this.animator=new r,this.posX,this.posY,this.width,this.height,this.draw=function(t){this.animator.draw(t,this.posX,this.posY,this.width,this.height)}}},function(t,n,e){var r=e(2),i=e(7),a=e(0);!function(){function t(){s.clearRect(0,0,e,o),u.movable.forEach(function(t){t.update();for(var n=0;n<u.immovable.length;n++)t.isCollising(u.immovable[n])&&t.handleCollision(u.immovable[n])}),u.background.forEach(function(t){t.draw(s)}),u.movable.forEach(function(t){t.draw(s)}),u.immovable.forEach(function(t){t.draw(s)}),u.foreground.forEach(function(t){t.draw(s)}),window.requestAnimationFrame(t)}var n=document.getElementById("game"),e=n.width,o=n.height,s=n.getContext("2d"),u={background:new Array,movable:new Array,immovable:new Array,foreground:new Array};!function(){var t=new a,n=new Image;n.src="/images/BG.png",t.animator.addState("idle",1e3,!1),t.animator.addImage("idle",n),t.posX=0,t.posY=0,t.width=1e3,t.height=750,u.background.push(t);var e=new r;e.width=80,e.height=110,e.posX=0,e.posY=0,e.init(),u.movable.push(e);for(var o=0;o<10;o++){var s=new i;s.width=100,s.height=100,s.posX=0+100*o,s.posY=400,s.init(),u.immovable.push(s)}}(),window.requestAnimationFrame(t)}()},function(t,n,e){var r=e(0),i=e(4);e(5);t.exports=function(){r.call(this);var t=new i,n=0,e=0,a=!0,o=!1,s=!1;this.init=function(){t.addKey("w",87),t.addKey("a",65),t.addKey("s",83),t.addKey("d",68);var n=new Array,e=new Array,r=new Array,i=new Image;i.src="/images/adventurer_idle.png",n.push(i);var a=new Image;a.src="/images/adventurer_jump.png",r.push(a);var o=new Image;o.src="/images/adventurer_walk1.png",e.push(o);var s=new Image;s.src="/images/adventurer_walk2.png",e.push(s),this.animator.addState("idle",50,!0),this.animator.addImages("idle",n),this.animator.addState("walk",200,!0),this.animator.addImages("walk",e),this.animator.addState("jump",50,!1),this.animator.addImages("jump",r)},this.isCollising=function(t){return this.posX<t.posX+t.width&&this.posX+this.width>t.posX&&this.posY<t.posY+t.height&&this.posY+this.height>t.posY},this.handleCollision=function(t){this.posY=t.posY-this.height,e=0,o=!1,s=!0},this.update=function(){"down"==t.getKeyState("d")?(a||(a=!0,this.animator.flip()),n=5,o||this.animator.changeState("walk")):"down"==t.getKeyState("a")?(a&&(a=!1,this.animator.flip()),n=-5,o||this.animator.changeState("walk")):(n=0,o||this.animator.changeState("idle")),this.posX+=n,"down"==t.getKeyState("w")&&!o&&s&&(e=-10,this.animator.changeState("jump"),o=!0),this.posY+=e,e+=.5,s=!1}}},function(t,n){t.exports=function(){function t(t,n,e,r,i,a){t.translate(e+i,r),t.scale(-1,1),t.drawImage(n,0,0,i,a),t.setTransform(1,0,0,1,0,0)}function n(){r[e].loop?i=++i%r[e].images.length:(i++,i=Math.min(i,r[e].images.length-1))}var e=null,r=new Array,i=0,a=(new Date).getTime(),o=!1;this.draw=function(s,u,c,h,l){if(null!=e){var f=(new Date).getTime();-1!=r[e].speed&&f-a>=r[e].speed&&(a=f,n());var d=r[e].images[i];o?t(s,d,u,c,h,l):s.drawImage(d,u,c,h,l)}},this.flip=function(){o=!o},this.changeState=function(t){if(r[e].name!=t){for(var n=0;n<r.length;n++)if(t==r[n].name)return e=n,i=0,a=(new Date).getTime(),!0;return!1}},this.addState=function(t,n,i){var a={name:t,speed:n,images:new Array,loop:i};r.push(a),null==e&&(e=0)},this.addImage=function(t,n){r.forEach(function(e){if(e.name==t)return void e.images.push(n)})},this.addImages=function(t,n){r.forEach(function(e){if(e.name==t)return void(e.images=n)})}}},function(t,n){t.exports=function(){function t(t){for(var n=t.which||t.keyCode,e=0;e<r.length;e++)r[e].code==n&&(r[e].state="down")}function n(t){for(var n=t.which||t.keyCode,e=0;e<r.length;e++)r[e].code==n&&(r[e].state=null)}function e(t){}var r=new Array;this.addKey=function(t,n){var e={name:t,code:n,state:null};r.push(e)},this.getKeyState=function(t){for(var n=0;n<r.length;n++)if(r[n].name==t)return r[n].state;return null},window.addEventListener("keydown",t),window.addEventListener("keyup",n),window.addEventListener("keypress",e)}},function(t,n,e){(function(t){function e(t,n){for(var e=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),e++):e&&(t.splice(r,1),e--)}if(n)for(;e--;e)t.unshift("..");return t}function r(t,n){if(t.filter)return t.filter(n);for(var e=[],r=0;r<t.length;r++)n(t[r],r,t)&&e.push(t[r]);return e}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(t){return i.exec(t).slice(1)};n.resolve=function(){for(var n="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(n=o+"/"+n,i="/"===o.charAt(0))}return n=e(r(n.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(t){var i=n.isAbsolute(t),a="/"===o(t,-1);return t=e(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&a&&(t+="/"),(i?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,function(t,n){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function r(t){for(var n=0;n<t.length&&""===t[n];n++);for(var e=t.length-1;e>=0&&""===t[e];e--);return n>e?[]:t.slice(n,e-n+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var i=r(t.split("/")),a=r(e.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}for(var c=[],u=s;u<i.length;u++)c.push("..");return c=c.concat(a.slice(s)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var n=a(t),e=n[0],r=n[1];return e||r?(r&&(r=r.substr(0,r.length-1)),e+r):"."},n.basename=function(t,n){var e=a(t)[2];return n&&e.substr(-1*n.length)===n&&(e=e.substr(0,e.length-n.length)),e},n.extname=function(t){return a(t)[3]};var o="b"==="ab".substr(-1)?function(t,n,e){return t.substr(n,e)}:function(t,n,e){return n<0&&(n=t.length+n),t.substr(n,e)}}).call(n,e(6))},function(t,n){function e(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(h===setTimeout)return setTimeout(t,0);if((h===e||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(n){try{return h.call(null,t,0)}catch(n){return h.call(this,t,0)}}}function a(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}function o(){p&&d&&(p=!1,d.length?m=d.concat(m):g=-1,m.length&&s())}function s(){if(!p){var t=i(o);p=!0;for(var n=m.length;n;){for(d=m,m=[];++g<n;)d&&d[g].run();g=-1,n=m.length}d=null,p=!1,a(t)}}function u(t,n){this.fun=t,this.array=n}function c(){}var h,l,f=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:e}catch(t){h=e}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var d,m=[],p=!1,g=-1;f.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];m.push(new u(t,n)),1!==m.length||p||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,n,e){var r=e(0);t.exports=function(){r.call(this),this.init=function(){var t=new Image;t.src="/images/2.png",this.animator.addState("idle",1e3,!1),this.animator.addImage("idle",t)}}}]);